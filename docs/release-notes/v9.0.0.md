# Release Notes v9.0.0

## Overview

OfX 9.0.0 is a **naming consistency release** that improves API clarity across the entire framework. All changes are renames — no behavioral or functional changes. This is a major version bump due to the number of breaking changes in public API names and namespaces.

---

## Why v9.0.0?

Over time, several names in OfX became inconsistent or unclear:

- `RequestOf<T>` — ambiguous direction (request *of* what?)
- `PropertyAssessorData` — typo-like name (assessor vs accessor)
- `SerializeObjects` — sounds like a method, not a class
- `SetMaxObjectSpawnTimes()` — unclear what "object spawn" means
- `ApplicationModels/` — generic ASP.NET-style catch-all folder name
- `Statics/`, `Cached/`, `Externals/` — vague folder names

This release systematically fixes all naming issues to make the codebase self-documenting.

---

## Breaking Changes Summary

### Class & Record Renames

| Old | New | Impact |
|-----|-----|--------|
| `OfXRegister` | **`OfXConfigurator`** | Used in `AddOfX()` callback parameter |
| `OfXRegisterWrapped` | **`OfXConfiguratorWrapped`** | Return type of `AddOfX()` |
| `RequestOf<T>` | **`OfXQueryRequest<T>`** | Handler parameter type |
| `PropertyAssessorData` | **`PropertyMappingData`** | Mapping pipeline data |
| `SerializeObjects` | **`OfXJsonSerializer`** | JSON serialization utility |
| `TypeModelAccessor` | **`TypeMetadataAccessor`** | Type metadata cache |
| `GenericDeepestImplementationFinder` | **`LeafImplementationFinder`** | Handler discovery utility |
| `ImplementedResult` | **`GenericInterfaceMatch`** | Handler discovery result |

### Method Renames

| Class | Old | New |
|-------|-----|-----|
| `OfXConfigurator` | `SetMaxObjectSpawnTimes(int)` | **`SetMaxNestingDepth(int)`** |

### Exception Renames

| Old | New |
|-----|-----|
| `OfXException.OfXMappingObjectsSpawnReachableTimes` | **`OfXException.MaxNestingDepthReached`** |

### Namespace Changes

**Core library:**

| Old | New |
|-----|-----|
| `OfX.ApplicationModels` | **`OfX.Models`** |
| `OfX.ObjectContexts` | **`OfX.PropertyMappingContexts`** |
| `OfX.Externals` | **`OfX.PublicContracts`** |
| `OfX.Cached` | **`OfX.MetadataCache`** |
| `OfX.InternalPipelines` | **`OfX.BuiltInPipelines`** |
| `OfX.Statics` | **`OfX.Configuration`** |

**Transport libraries:**

| Old | New |
|-----|-----|
| `OfX.RabbitMq.ApplicationModels` | **`OfX.RabbitMq.Configuration`** |
| `OfX.Kafka.ApplicationModels` | **`OfX.Kafka.Configuration`** |
| `OfX.Aws.Sqs.ApplicationModels` | **`OfX.Aws.Sqs.Configuration`** |
| `OfX.Nats.ApplicationModels` | **`OfX.Nats.Configuration`** |
| `OfX.Azure.ServiceBus.ApplicationModels` | **`OfX.Azure.ServiceBus.Configuration`** |

**Integration libraries:**

| Old | New |
|-----|-----|
| `OfX.EntityFrameworkCore.ApplicationModels` | **`OfX.EntityFrameworkCore.Registration`** |
| `OfX.MongoDb.ApplicationModels` | **`OfX.MongoDb.Registration`** |
| `OfX.HotChocolate.ApplicationModels` | **`OfX.HotChocolate.Registration`** |
| `OfX.Grpc.ApplicationModels` | **`OfX.Grpc.Registration`** |

---

## Migration Guide

### Upgrading from v8.3.0

This release contains **only renames**. No logic changes, no new features, no removed features. Migration is mechanical find-and-replace.

**Step 1: Update NuGet packages**

```bash
dotnet add package OfX --version 9.0.0
dotnet add package OfX-gRPC --version 9.0.0
dotnet add package OfX-EFCore --version 9.0.0
dotnet add package OfX-Kafka --version 9.0.0
dotnet add package OfX-RabbitMq --version 9.0.0
dotnet add package OfX-Nats --version 9.0.0
dotnet add package OfX-HotChocolate --version 9.0.0
dotnet add package OfX-MongoDb --version 9.0.0
dotnet add package OfX-Azure.ServiceBus --version 9.0.0
dotnet add package OfX-Aws.Sqs --version 9.0.0
```

**Step 2: Fix namespace imports**

Update all `using` statements. The most common ones you'll encounter:

```csharp
// Before
using OfX.ApplicationModels;
using OfX.Statics;
using OfX.Cached;

// After
using OfX.Models;
using OfX.Configuration;
using OfX.MetadataCache;
```

For transport/integration projects:

```csharp
// Before
using OfX.RabbitMq.ApplicationModels;
using OfX.EntityFrameworkCore.ApplicationModels;

// After
using OfX.RabbitMq.Configuration;
using OfX.EntityFrameworkCore.Registration;
```

**Step 3: Fix class references**

```csharp
// Before
services.AddOfX(cfg => {
    cfg.SetMaxObjectSpawnTimes(5);
});

// After
services.AddOfX(cfg => {
    cfg.SetMaxNestingDepth(5);
});
```

```csharp
// Before
public class MyHandler : IClientRequestHandler<MyAttribute>
{
    public Task<ItemsResponse<DataResponse>> HandleAsync(RequestOf<MyAttribute> request, ...)

// After
public class MyHandler : IClientRequestHandler<MyAttribute>
{
    public Task<ItemsResponse<DataResponse>> HandleAsync(OfXQueryRequest<MyAttribute> request, ...)
```

**Step 4: Build and verify**

```bash
dotnet build
dotnet test
```

---

## Design Decisions

### Naming Philosophy

| Category | Convention | Example |
|----------|-----------|---------|
| **Core folder** | `Models/` | Simple, conventional for .NET |
| **Transport folder** | `Configuration/` | Contains configurators and credentials |
| **Integration folder** | `Registration/` | Contains DI registrars |
| **Internal folder** | Descriptive purpose | `MetadataCache/`, `BuiltInPipelines/` |

### Why not keep backward compatibility?

We considered `[Obsolete]` attributes and type aliases, but:

1. **Clean break is better** — deprecated names create confusion about "which one to use"
2. **All changes are mechanical** — simple find-and-replace migration
3. **Major version signals intent** — v9.0.0 clearly communicates breaking changes
4. **No functional changes** — reduces risk since only names change

---

## Testing & Quality

```
Build:     0 errors, 26 warnings (all pre-existing NuGet advisories)
Analyzer:  14/14 tests passing on .NET 8, 9, 10
Unit:      422/422 tests passing on .NET 8, 9, 10
```

---

## What's NOT Changed

- No behavioral changes
- No new features
- No removed features
- No performance changes
- No dependency updates
- .NET 8, 9, 10 multi-targeting unchanged
- All transport protocols work identically
- All data providers work identically

**The only thing that changed is names.**

---

**OfX 9.0.0** - Naming Consistency & API Clarity

Released: February 11, 2026
